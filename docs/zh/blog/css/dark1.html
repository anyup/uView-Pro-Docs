<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="referrer" content="no-referrer" />
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, viewport-fit=cover" />
    <title>一键暗黑模式</title>
    <style>
      .checkbox {
        font-size: 25px;
        cursor: default;
        user-select: none;
        input[type='checkbox'] {
          width: 19px;
          height: 19px;
        }
      }

      .main {
        width: 100%;
        height: 100vh;
        background-color: #fff;
        transition: all 300ms;
      }

      [data-theme='dark'] .main {
        filter: invert(1) hue-rotate(180deg);
        img,
        video,
        .avatar,
        .image,
        .thumb {
          filter: none;
        }
      }
    </style>
  </head>
  <body>
    <div style="display: flex">
      <label class="checkbox">
        <input type="checkbox" id="myCheckbox" checked />
        <span>暗黑模式</span>
      </label>
      <iframe style="flex: 1" class="main" src="https://juejin.cn/post/7441800634569687079"></iframe>
    </div>
    <script>
      var checkbox = document.getElementById('myCheckbox')
      document.getElementById('myCheckbox').addEventListener('change', function () {
        console.log(this.checked)
        if (this.checked) {
          document.documentElement.dataset.theme = 'dark'
        } else {
          document.documentElement.dataset.theme = 'light'
        }
      })
    </script>
  </body>
</html>
