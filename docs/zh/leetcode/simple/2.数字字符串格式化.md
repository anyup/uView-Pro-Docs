## 问题描述

小 M 在工作时遇到了一个问题，他需要将用户输入的不带千分位逗号的数字字符串转换为带千分位逗号的格式，并且保留小数部分。小 M 还发现，有时候输入的数字字符串前面会有无用的 0，这些也需要精简掉。请你帮助小 M 编写程序，完成这个任务。

## 测试样例

### 样例 1：

```
输入：s = "1294512.12412"
输出：'1,294,512.12412'
```

### 样例 2：

```
输入：s = "0000123456789.99"
输出：'123,456,789.99'
```

### 样例 3：

```
输入：s = "987654321"
输出：'987,654,321'
```

## 最简方案

- 去除前导零：使用 parseFloat 将字符串转换为数字，然后再转换回字符串。
- 添加千分位逗号：使用 toLocaleString 方法直接将数字转换为带千分位逗号的字符串。

代码实现

```js
function solution(s) {
  // 去除前导零并转换为数字
  let num = parseFloat(s)

  // 使用 toLocaleString 方法添加千分位逗号
  let result = num.toLocaleString('en-US')

  return result
}

// 测试代码
function main() {
  console.log(solution('1294512.12412') === '1,294,512.12412')
  console.log(solution('0000123456789.99') === '123,456,789.99')
  console.log(solution('987654321') === '987,654,321')
}

main()
```

### 说明

精度问题：默认情况下，toLocaleString 会对小数部分进行四舍五入。如果希望保留特定的小数位数，可以传递一个包含 minimumFractionDigits 和 maximumFractionDigits 属性的对象作为第二个参数来控制输出格式。

```js
const number = 1294512.12412
const options = { style: 'decimal', minimumFractionDigits: 3, maximumFractionDigits: 3 }
const formattedNumber = number.toLocaleString('en-US', options)
console.log(formattedNumber) // 输出类似于 "1,294,512.124"
```

### 解释

去除前导零：

```js
let num = parseFloat(s)
```

这行代码将字符串 s 转换为数字，并自动去除前导零。

添加千分位逗号：

```js
let result = num.toLocaleString('en-US')
```

这行代码使用 toLocaleString 方法将数字转换为带千分位逗号的字符串。'en-US' 参数确保使用美国格式（即千分位逗号）。

这个方案简洁高效，利用了 JavaScript 的内置方法来完成任务。

## 其他方案

- 去除前导零：使用 `parseFloat` 或 `Number` 将字符串转换为数字，然后再转换回字符串，这样可以自动去除前导零。

- 分离整数部分和小数部分：使用 `split` 方法将字符串按小数点分割成整数部分和小数部分。

- 添加千分位逗号：对整数部分进行处理，从后往前每三位插入一个逗号。

- 合并整数部分和小数部分：将处理后的整数部分和小数部分重新合并。

```js
function solution(s) {
  // 去除前导零
  let numStr = parseFloat(s).toString()

  // 分离整数部分和小数部分
  let [integerPart, decimalPart] = numStr.split('.')

  // 对整数部分添加千分位逗号
  let formattedIntegerPart = ''
  for (let i = 0; i < integerPart.length; i++) {
    if (i > 0 && (integerPart.length - i) % 3 === 0) {
      formattedIntegerPart += ','
    }
    formattedIntegerPart += integerPart[i]
  }

  // 合并整数部分和小数部分
  let result = decimalPart ? `${formattedIntegerPart}.${decimalPart}` : formattedIntegerPart

  return result
}
```

## 沸点

数字字符串格式化：JavaScript 版最简方案
思路：利用了 JavaScript 内置方法 toLocaleString
方案：去除前导零并转换为数字，使用 toLocaleString 方法添加千分位逗号

```js
function solution(s) {
  return parseFloat(s).toLocaleString('en-US')
}
```
